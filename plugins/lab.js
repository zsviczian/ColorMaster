(()=>{"use strict";var t={d:(a,e)=>{for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{default:()=>f});const e=6/29,n=Math.pow(e,3),r=Math.pow(29/3,3),o={x:.96422,y:1,z:.82521};function u(t,a){return[t[0][0]*a[0]+t[0][1]*a[1]+t[0][2]*a[2],t[1][0]*a[0]+t[1][1]*a[1]+t[1][2]*a[2],t[2][0]*a[0]+t[2][1]*a[1]+t[2][2]*a[2]]}function c(t,a,e){return Math.max(t,Math.min(a,e))}function s(t){return void 0!==t?c(0,t,1):1}function i(t){const a=Object.values(function(t){const[a,e,n]=u([[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],Object.values(t).map((t=>{return 100*(a=t,(a/=255)<.04045?a/12.92:Math.pow((a+.055)/1.055,2.4));var a})));return function(t){const[a,e,n]=u([[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]],Object.values(t));return{x:a,y:e,z:n,a:t.a}}({x:a,y:e,z:n,a:t.a})}(t)).map(((t,a)=>t/(100*Object.values(o)[a]))).map((t=>t>n?Math.cbrt(t):(r*t+16)/116));return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-a[2]),alpha:t.a}}function l(t){const{l:a,a:n,b:r}=t,s=(a+16)/116,i=s+n/500,l=s-r/200,p=Object.values(o),[b,d,f]=[i,s,l].map(((t,a)=>(t>e?Math.pow(t,3):3*Math.pow(e,2)*(t-4/29))*p[a]*100));return function(t){const[a,e,n]=Object.values(function(t){const[a,e,n]=u([[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]],Object.values(t));return{x:a,y:e,z:n,a:t.a}}(t)).map((t=>t/100)),[r,o,s]=u([[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],[a,e,n]).map((t=>{return c(0,255*((a=t)>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a),255);var a}));return{r,g:o,b:s,a:t.a}}({x:b,y:d,z:f,a:t.alpha})}const p=/laba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*([+-]?\d*\.?\d+)\s*,?\s*([+-]?\d*\.?\d+)\s*,?\s*\/?\s*?(\d*\.?\d+%?)?\s*\)/gi;function b({l:t,a,b:e,alpha:n}){return[l({l:c(0,t,100),a:c(-160,a,160),b:c(-160,e,160),alpha:s(n)}),"lab"]}function d(t){if("object"===t.constructor.name.toLowerCase()&&function(t){const{l:a,a:e,b:n}=t;return void 0!==a&&void 0!==e&&void 0!==n}(t))return b(t);if("string"==typeof t){p.lastIndex=0;const a=p.exec(t);if(a){const[t,e,n,r]=a.filter((t=>void 0!==t)).slice(1).map(((t,a)=>t.includes("%")?+t.slice(0,-1)*(a<3?1:.01):+t));return b({l:t,a:e,b:n,alpha:r})}}return[{r:0,g:0,b:0,a:1},"invalid"]}const f=t=>{t.prototype.laba=function(){return i(this.rgba())},t.prototype.stringLAB=function({alpha:t=!0,precision:a=[0,0,0,1]}={}){const[e,n,r,o]=Object.values(this.laba()).map(((t,e)=>function(t,a){return+t.toFixed(a>=0?a:0)}(t,a[e])));return t?`laba(${e}%, ${n}, ${r}, ${o})`:`lab(${e}%, ${n}, ${r})`},t.Parsers.push(d)};module.exports=a})();